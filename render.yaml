services:
  - type: web
    name: data-science-agent
    runtime: docker
    plan: free  # Change to 'starter' or higher for production
    region: oregon  # Change to your preferred region
    branch: main
    dockerfilePath: ./Dockerfile
    envVars:
      - key: LLM_PROVIDER
        value: gemini
      - key: GOOGLE_API_KEY
        sync: false  # Mark as secret - add via Render dashboard
      - key: GEMINI_MODEL
        value: gemini-2.5-flash
      - key: REASONING_EFFORT
        value: medium
      - key: CACHE_DB_PATH
        value: /tmp/cache_db/cache.db
      - key: CACHE_TTL_SECONDS
        value: 86400
      - key: OUTPUT_DIR
        value: /tmp/outputs
      - key: DATA_DIR
        value: /tmp/data
      - key: MAX_PARALLEL_TOOLS
        value: 5
      - key: MAX_RETRIES
        value: 3
      - key: TIMEOUT_SECONDS
        value: 300
      - key: PORT
        value: 8080
      - key: ARTIFACT_BACKEND
        value: local
    healthCheckPath: /api/health
    autoDeploy: true
